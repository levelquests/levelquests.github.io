<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Level Quests – Menu</title>
  <link rel="stylesheet" href="style.css">
  <script src="levels.js" defer></script>
</head>
<body>
  <h1 style="text-align:center; margin-top:50px;">Level Quests</h1>
  
  <div style="text-align:center; margin-top:50px;">
    <button id="btnJogar" style="padding:15px 30px; font-size:18px; cursor:pointer;">Jogar</button>
    <button id="btnLevels" style="padding:15px 30px; font-size:18px; cursor:not-allowed;" disabled>Levels</button>
    <button onclick="showCredits(0)" style="padding:15px 30px; font-size:18px; cursor:pointer;">Créditos</button>
  </div>

  <div id="levelsMenu" style="display:none; text-align:center; margin-top:40px;"></div>

  <script>
    // Botão Jogar
    const btnJogar = document.getElementById("btnJogar");
    btnJogar.addEventListener("click", () => {
      window.location.href = "level_1.html";
    });

    // Botão Levels
    const btnLevels = document.getElementById("btnLevels");
    let progress = parseInt(localStorage.getItem("levelProgress") || "1");
    if(progress >= 15){ // desbloqueia Levels apenas se completou todos os 15
      btnLevels.disabled = false;
      btnLevels.style.cursor = "pointer";
    }

    btnLevels.addEventListener("click", () => {
      const menu = document.getElementById("levelsMenu");
      if(menu.style.display === "none"){
        buildLevelsMenu(menu);
        menu.style.display = "block";
      } else {
        menu.style.display = "none";
      }
    });

    function buildLevelsMenu(menu){
      menu.innerHTML = "<h2>Selecione o Level</h2>";
      let progress = parseInt(localStorage.getItem("levelProgress") || "1");
      for(let i=1;i<=15;i++){
        let btn = document.createElement("button");
        btn.innerText = "Level " + i;
        btn.style.margin = "5px";
        if(i <= progress){
          btn.onclick = () => window.location.href = `level_${i}.html`;
        } else {
          btn.disabled = true;
        }
        menu.appendChild(btn);
      }
    }
  </script>
</body>
</html>